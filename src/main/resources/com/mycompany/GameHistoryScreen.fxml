<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>

<StackPane styleClass="root-container" stylesheets="@styles.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.mycompany.presentation.gamehistory.GameHistoryController">

    <padding>
        <Insets bottom="24" left="24" right="24" top="24" />
    </padding>

    <!-- Main Content -->
    <VBox alignment="TOP_CENTER" maxWidth="800" spacing="24" StackPane.alignment="CENTER">
        <padding>
            <Insets top="20" />
        </padding>

        <!-- Header -->
        <HBox alignment="CENTER_LEFT" spacing="20">
            <!-- Back Button -->
            <Button fx:id="btnBack" onAction="#onBack" styleClass="back-button">
                <graphic>
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <SVGPath content="M19 12H5M12 19l-7-7 7-7" styleClass="back-icon" />
                        <Label styleClass="back-label" text="Back" />
                    </HBox>
                </graphic>
            </Button>

            <VBox alignment="CENTER_LEFT" spacing="4">
                <Label style="-fx-font-size: 32px;" styleClass="game-title" text="Game History" />
                <Label style="-fx-font-size: 14px;" styleClass="game-subtitle" text="Your Match Records" />
            </VBox>
        </HBox>

        <!-- Main Card -->
        <VBox styleClass="game-card" VBox.vgrow="ALWAYS" spacing="0">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>

            <!-- Stats Summary -->
            <HBox alignment="CENTER" spacing="30" style="-fx-padding: 0 0 20 0; -fx-border-color: rgba(255,255,255,0.1); -fx-border-width: 0 0 1 0;">
                <VBox alignment="CENTER" spacing="4">
                    <Label fx:id="lblTotalGames" text="0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #00E5FF;" />
                    <Label text="Total Games" styleClass="input-label" style="-fx-font-size: 12px;" />
                </VBox>
                <VBox alignment="CENTER" spacing="4">
                    <Label fx:id="lblWins" text="0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #10b981;" />
                    <Label text="Wins" styleClass="input-label" style="-fx-font-size: 12px;" />
                </VBox>
                <VBox alignment="CENTER" spacing="4">
                    <Label fx:id="lblLosses" text="0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #ef4444;" />
                    <Label text="Losses" styleClass="input-label" style="-fx-font-size: 12px;" />
                </VBox>
                <VBox alignment="CENTER" spacing="4">
                    <Label fx:id="lblDraws" text="0" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #fbbf24;" />
                    <Label text="Draws" styleClass="input-label" style="-fx-font-size: 12px;" />
                </VBox>
            </HBox>

            <!-- Filter Section - Compact Layout -->
            <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-padding: 12 0; -fx-border-color: rgba(255,255,255,0.1); -fx-border-width: 0 0 1 0;">
                <Label text="Filters:" styleClass="input-label" style="-fx-font-size: 12px; -fx-font-weight: bold;" />
                <Button fx:id="btnFilterAll" text="All" onAction="#onFilterAll" 
                        styleClass="game-button, game-button-outline" 
                        style="-fx-padding: 4 12; -fx-font-size: 11px; -fx-min-width: 50;" />
                <Button fx:id="btnFilterWin" text="Wins" onAction="#onFilterWin" 
                        styleClass="game-button, game-button-outline" 
                        style="-fx-padding: 4 12; -fx-font-size: 11px; -fx-min-width: 50;" />
                <Button fx:id="btnFilterLoss" text="Losses" onAction="#onFilterLoss" 
                        styleClass="game-button, game-button-outline" 
                        style="-fx-padding: 4 12; -fx-font-size: 11px; -fx-min-width: 50;" />
                <Button fx:id="btnFilterDraw" text="Draws" onAction="#onFilterDraw" 
                        styleClass="game-button, game-button-outline" 
                        style="-fx-padding: 4 12; -fx-font-size: 11px; -fx-min-width: 50;" />
                <Label text="|" style="-fx-text-fill: rgba(255,255,255,0.2); -fx-font-size: 16px;" />
                <Label text="Recorded:" styleClass="input-label" style="-fx-font-size: 11px;" />
                <Button fx:id="btnToggleRecorded" text="OFF" onAction="#onToggleRecorded" 
                        styleClass="game-button, game-button-outline" 
                        style="-fx-padding: 4 12; -fx-font-size: 11px; -fx-min-width: 50;" />
            </HBox>

            <!-- Games List -->
            <ScrollPane fitToWidth="true" hbarPolicy="NEVER" style="-fx-background: transparent; -fx-background-color: transparent;" VBox.vgrow="ALWAYS">
                <padding>
                    <Insets top="20" />
                </padding>
                <content>
                    <VBox fx:id="gamesListContainer" spacing="12" style="-fx-background-color: transparent;">
                        <!-- Game history items will be dynamically added here -->
                        <Label fx:id="lblEmptyState" text="No games played yet" 
                               styleClass="game-subtitle" 
                               style="-fx-text-fill: #6b7280; -fx-font-size: 16px; -fx-padding: 40 0;" 
                               visible="true" managed="true" />
                    </VBox>
                </content>
            </ScrollPane>

        </VBox>

    </VBox>

</StackPane>
